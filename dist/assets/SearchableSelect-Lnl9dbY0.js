import{r as u,c as k,o as w,l as x,a as n,i as o,b as c,e as b,t as f,n as g,A as _,B as V,z as L,F as B,f as O,K as D}from"./vendor-abe1rO6K.js";import{_ as E}from"./index-CXPIpl-L.js";const I={key:0,class:"selected-text"},M={key:1,class:"placeholder-text"},N={key:0,class:"select-dropdown"},T={class:"search-box"},q={class:"options-list"},z=["onClick"],A={key:0,class:"no-results"},F={__name:"SearchableSelect",props:{modelValue:{type:[String,Number],default:""},options:{type:Array,required:!0,default:()=>[]},placeholder:{type:String,default:"Pilih..."},labelKey:{type:String,default:"name"},valueKey:{type:String,default:"id"},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","change"],setup(a,{emit:S}){const l=a,v=S,s=u(!1),r=u(null),d=u(null),p=u(null),m=k(()=>{const e=l.options.find(t=>t[l.valueKey]===l.modelValue);return e?e[l.labelKey]:null}),y=k(()=>{if(!r.value)return l.options;const e=r.value.toLowerCase();return l.options.filter(t=>String(t[l.labelKey]).toLowerCase().includes(e))});function C(){l.disabled||(s.value=!s.value,s.value&&(r.value="",D(()=>{var e;(e=p.value)==null||e.focus()})))}function K(e){v("update:modelValue",e[l.valueKey]),v("change",e),s.value=!1}function h(e){d.value&&!d.value.contains(e.target)&&(s.value=!1)}return w(()=>{document.addEventListener("click",h)}),x(()=>{document.removeEventListener("click",h)}),(e,t)=>(o(),n("div",{class:"searchable-select",ref_key:"containerRef",ref:d},[c("div",{class:g(["select-trigger",{"is-open":s.value,"is-disabled":a.disabled}]),onClick:C},[m.value?(o(),n("span",I,f(m.value),1)):(o(),n("span",M,f(a.placeholder),1)),t[2]||(t[2]=c("i",{class:"fas fa-chevron-down arrow-icon"},null,-1))],2),s.value?(o(),n("div",N,[c("div",T,[_(c("input",{ref_key:"searchInput",ref:p,"onUpdate:modelValue":t[0]||(t[0]=i=>r.value=i),type:"text",placeholder:"Cari...",class:"dropdown-search-input",onClick:t[1]||(t[1]=L(()=>{},["stop"]))},null,512),[[V,r.value]])]),c("ul",q,[(o(!0),n(B,null,O(y.value,i=>(o(),n("li",{key:i[a.valueKey],class:g(["option-item",{"is-selected":i[a.valueKey]===a.modelValue}]),onClick:R=>K(i)},f(i[a.labelKey]),11,z))),128)),y.value.length===0?(o(),n("li",A," Tidak ada data ")):b("",!0)])])):b("",!0)],512))}},Q=E(F,[["__scopeId","data-v-01fd02d9"]]);export{Q as S};
