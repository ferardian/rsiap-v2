import{o as m,g as p,a as i,b as s,F as g,f as h,I as _,D as f,i as r,t as c}from"./vendor-abe1rO6K.js";import{_ as k,u as v}from"./index-CXPIpl-L.js";import{s as u}from"./notification-DtWby6W5.js";import"./api-B9ygI19o.js";const R={class:"select-role-container"},b={class:"role-selection-card"},y={class:"role-list"},S=["onClick"],w={class:"role-info"},x={__name:"SelectRoleView",setup(A){const t=p(),o=v();m(()=>{!o.isAuthenticated||o.userRoles.length===0?t.push("/login"):o.userRoles.length===1&&n(o.userRoles[0])});const n=async l=>{try{await o.selectRole(l),t.push("/dashboard"),u(`Masuk sebagai ${l.nama_role}`,"success")}catch(e){console.error("Error selecting role:",e),u("Gagal memilih role","error")}},d=async()=>{await o.logout(),t.push("/login")};return(l,e)=>(r(),i("div",R,[s("div",b,[e[3]||(e[3]=s("div",{class:"header"},[s("h1",null,"Pilih Role"),s("p",null,"Anda memiliki akses ke beberapa role. Silakan pilih role yang ingin digunakan.")],-1)),s("div",y,[(r(!0),i(g,null,h(_(o).userRoles,a=>(r(),i("div",{key:a.id_role,class:"role-item",onClick:B=>n(a)},[e[0]||(e[0]=s("div",{class:"role-icon"},[s("i",{class:"fas fa-user-shield"})],-1)),s("div",w,[s("h3",null,c(a.nama_role),1),s("p",null,c(a.deskripsi||"Akses sebagai "+a.nama_role),1)]),e[1]||(e[1]=s("div",{class:"role-action"},[s("i",{class:"fas fa-chevron-right"})],-1))],8,S))),128))]),s("div",{class:"footer"},[s("button",{class:"btn-cancel",onClick:d},[...e[2]||(e[2]=[s("i",{class:"fas fa-sign-out-alt me-2"},null,-1),f("Batalkan & Logout ",-1)])])])])]))}},E=k(x,[["__scopeId","data-v-2c207984"]]);export{E as default};
